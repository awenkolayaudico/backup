{
    "id": "media_merger_module",
    "name": "Media Merger",
    "version": "1.0.0",
    "icon_file": "icon.png",
    "author": "AWENK AUDICO & Gemini",
    "email": "contributor@teetah.art",
    "website": "www.teetah.art",
    "description": "Merges separate video, audio, and subtitle files/data into a single video file using FFmpeg.",
    "type": "ACTION",
    "entry_point": "processor.MediaMergerModule",
    "tier": "free",
    "behaviors": [
        "retry"
    ],
    "requires_services": [
        "logger",
        "loc",
        "kernel",
        "state_manager"
    ],
    "properties": [
        {
            "id": "video_source_variable",
            "type": "string",
            "label": "loc.prop_video_source_label"
        },
        {
            "id": "audio_source_variable",
            "type": "string",
            "label": "loc.prop_audio_source_label"
        },
        {
            "id": "subtitle_source_mode",
            "type": "enum",
            "label": "loc.prop_subtitle_mode_label",
            "options": [
                "dynamic",
                "manual"
            ],
            "default": "dynamic"
        },
        {
            "id": "subtitle_source_variable",
            "type": "string",
            "label": "loc.prop_subtitle_variable_label"
        },
        {
            "id": "subtitle_manual_input",
            "type": "textarea",
            "label": "loc.prop_subtitle_manual_label"
        },
        {
            "id": "output_folder",
            "type": "string",
            "label": "loc.prop_output_folder_label"
        },
        {
            "id": "output_filename",
            "type": "string",
            "label": "loc.prop_output_filename_label",
            "default": "merged_media"
        },
        {
            "id": "merge_mode",
            "type": "enum",
            "label": "loc.prop_merge_mode_label",
            "default": "fast"
        },
        {
            "id": "duration_mismatch_mode",
            "type": "enum",
            "label": "loc.prop_duration_mismatch_label",
            "default": "shortest"
        },
        {
            "id": "subtitle_mode",
            "type": "enum",
            "label": "loc.prop_subtitle_embed_mode_label",
            "default": "hardsub"
        }
    ],
    "output_ports": [
        {
            "name": "success",
            "display_name": "loc.port_success"
        },
        {
            "name": "error",
            "display_name": "loc.port_on_failure"
        }
    ],
    "output_schema": [
        {
            "name": "data.final_video_path",
            "type": "string",
            "description": "The full path of the final merged video file."
        }
    ]
}