{
    "id": "data_exporter_module",
    "name": "Data Exporter",
    "version": "1.3.0",
    "icon_file": "icon.png",
    "author": "AWENK AUDICO",
    "email": "sahidinaola@gmail.com",
    "website": "www.teetah.art",
    "description": "Receives structured or unstructured data and exports it to a file. Includes a data mapper to restructure data before saving. Supports overwrite and append modes.",
    "type": "ACTION",
    "entry_point": "processor.DataExporterModule",
    "tier": "basic",
    "behaviors": [
        "retry",
        "loop"
    ],
    "requires_services": [
        "logger",
        "loc",
        "kernel"
    ],
    "properties": [
        {
            "id": "data_source_variable",
            "type": "string",
            "label": "loc.prop_data_source_label",
            "description": "Payload variable path containing the list of data to be exported. Example: data.scraped_data",
            "default": "data.scraped_data"
        },
        {
            "id": "data_mapping",
            "type": "custom",
            "label": "loc.prop_data_mapping_label",
            "description": "Define how to map keys from the source data to new column headers for the output file."
        },
        {
            "id": "output_folder",
            "type": "string",
            "label": "loc.prop_output_folder_label",
            "description": "The folder where the exported file will be saved."
        },
        {
            "id": "output_filename",
            "type": "string",
            "label": "loc.prop_output_filename_label",
            "description": "The name for the final file, without extension.",
            "default": "exported_data"
        },
        {
            "id": "add_timestamp",
            "type": "boolean",
            "label": "loc.prop_add_timestamp_label",
            "description": "If checked, a timestamp will be added to the filename to make it unique.",
            "default": false
        },
        {
            "id": "file_format",
            "type": "enum",
            "label": "loc.prop_file_format_label",
            "options": ["csv", "xlsx"],
            "default": "csv"
        },
        {
            "id": "file_mode",
            "type": "enum",
            "label": "loc.prop_file_mode_label",
            "options": ["overwrite", "append"],
            "default": "overwrite"
        },
        {
            "id": "add_row_number",
            "type": "boolean",
            "label": "loc.prop_add_row_number_label",
            "default": false
        },
        {
            "id": "csv_delimiter",
            "type": "enum",
            "label": "loc.prop_csv_delimiter_label",
            "options": [",", ";", "|", "tab"],
            "default": ","
        },
        {
            "id": "include_header",
            "type": "boolean",
            "label": "loc.prop_include_header_label",
            "description": "For CSV/XLSX, determines if the first row should be the column headers (keys).",
            "default": true
        }
    ],
    "output_ports": [
        {
            "name": "success",
            "display_name": "Success"
        },
        {
            "name": "error",
            "display_name": "Error"
        }
    ],
    "output_schema": [
        {
            "name": "data.exported_file_path",
            "type": "string",
            "description": "The full path to the newly created export file."
        }
    ]
}